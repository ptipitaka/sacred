---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro'

// Simple static version without getStaticPaths for testing
const editionCode = 'ch';
const editionName = 'ฉัฏฐสังคายนา';

// Static volumes for testing 
const testVolumes = [
  { number: '1', pageCount: 381 },
  { number: '2', pageCount: 350 },
  { number: '3', pageCount: 400 }
];
---

<StarlightPage
  frontmatter={{
    title: `ทดสอบ พระไตรปิฎก ฉบับ${editionName}`,
    description: `หน้าทดสอบการแสดงเล่ม`
  }}
>
  <div class="breadcrumb">
    <a href="/tipitaka">พระไตรปิฎก</a> › {editionName}
  </div>

  <div class="volumes-grid">
    {testVolumes.map((volume) => (
      <div class="volume-card">
        <h3>
          <a href={`/tipitaka-test-${editionCode}-vol${volume.number}`}>
            เล่มที่ {volume.number}
          </a>
        </h3>
        <p class="page-count">{volume.pageCount} หน้า</p>
      </div>
    ))}
  </div>

  <p><strong>หมายเหตุ:</strong> นี่คือหน้าทดสอบแบบ Static (ไม่ใช้ getStaticPaths)</p>
</StarlightPage>

<style>
  .breadcrumb {
    margin-bottom: 2rem;
    font-size: 0.9rem;
    color: var(--sl-color-text-accent);
  }

  .breadcrumb a {
    color: var(--sl-color-accent);
    text-decoration: none;
  }

  .breadcrumb a:hover {
    text-decoration: underline;
  }

  .volumes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
  }

  .volume-card {
    border: 1px solid var(--sl-color-gray-5);
    border-radius: 8px;
    padding: 1.5rem;
    text-align: center;
    transition: box-shadow 0.2s ease;
  }

  .volume-card:hover {
    box-shadow: 0 4px 12px var(--sl-color-gray-2);
  }

  .volume-card h3 {
    margin-top: 0;
    margin-bottom: 0.5rem;
  }

  .volume-card h3 a {
    text-decoration: none;
    color: var(--sl-color-text);
  }

  .volume-card h3 a:hover {
    color: var(--sl-color-accent);
  }

  .page-count {
    color: var(--sl-color-text-accent);
    margin: 0;
    font-size: 0.9rem;
  }
</style>